$input-background:   hsl(0, 0, 98%)
$input-border-color: hsl(0, 0, 80%)
  
//
// Fieldset and fields
//
.field-set
  width: 500px

.field-set--full
  width: 100%

.field
  @include clearfix
  position: relative
  margin: 0 0 20px 0

//
// Icons inside of text fields, eg units, locks
//
.input__icon
  position: absolute
  bottom: 0
  line-height: 40px
  font-size: 22px
  color: $lightgray

.input__icon--before
  left: 12px

.input__icon--after
  right: 12px

.input__icon--text
  @include weight-bold
  display: flex
  position: absolute
  bottom: 0
  right: 10px
  color: $lightgray
  align-items: center
  height: 36px
  font-size: 13px


//
// Labels and everything similar
//
label
  @include not-selectable
  @include weight-bold
  display: flex
  height: 2rem
  float: left
  font-size: 14px
  align-items: center

.label--full
  width: 100%

.label-info
  clear: left
  font-size: 13px
  color: $darkgray
  margin-top: 5px

.label-wrapper
  display: flex

.label-option
  float: right
  line-height: 2rem
  height: 2rem
  font-size: 13px
  margin-left: auto

  + .label-option
    margin-left: 10px

.label-option--optional
  color: $darkgray

.label-option--tooltip
  @include icon('form/tooltip.svg')
  color: $darkgray
  width: 20px
  height: 1em
  align-self: center

button, input[type=submit]
  @include button

input[type=text], input[type=email], input[type=password], input[type=number], select, textarea
  -webkit-user-select: text
  width: 100%
  padding: 0 13px
  line-height: 24px
  height: 40px
  outline: 0
  background-color: $input-background
  box-shadow: inset 1px 1px 2px 0 rgba(0, 0, 0, .05)
  border-radius: 3px
  border: 1px solid $input-border-color
  font-size: 14px

  &:focus
    border-color: $blue
    box-shadow: 0 0 0 3px rgba(0, 60, 255, .25);

  &:disabled
    @include icon('form/disabled.svg')
    background-position: center right 10px
    background-size: 16px
    background-color: hsl(0, 0, 96%)
    color: rgba(0, 0, 0, 0.4)
    box-shadow: none

  // We need to put these special pseudo classes into separate rows, because Chrome
  // ignores the styles if several are put in one row. Browsers are strange ¯\_(ツ)_/¯
  &::-webkit-input-placeholder
    color: rgba(0, 0, 0, 0.3)
    font-style: italic

  &::placeholder
    color: rgba(0, 0, 0, 0.3)
    font-style: italic

select
  @include icon('form/select.svg')
  -webkit-appearance: none
  -moz-appearance: none
  background-position: center right 15px
  background-size: 13px
  border-radius: 30px

  &:-moz-focusring
    color: transparent
    text-shadow: 0 0 0 #000

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button
  -webkit-appearance: none
  margin: 0

textarea
  height: 100px
  padding: 8px 10px

  &.textarea--large
    max-width: 100%
    height: 250px


input[type=checkbox], input[type=radio]
  width: 16px
  height: 16px
  margin-right: 12px
  float: left
  clear: left

  + label, + .field_with_errors label, + .label-wrapper
    line-height: 39px

    + .label-info
      padding-left: 35px
      margin-top: 0

input[type=checkbox]
  opacity: 0
  position: absolute
  left: -9999px

  + label, + .field_with_errors label, + .label-wrapper label
    cursor: pointer

    &:before
      content: ''
      display: block
      float: left
      margin-right: 15px
      width: 17px
      height: 20px
      line-height: 20px
      padding-left: 3px
      background-color: $input-background
      box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .30)
      font-size: 15px

  &:checked
    + label, + .field_with_errors label, + .label-wrapper label
      &:before
        background: image-url('form/check.svg')
        background-position: center
        background-repeat: no-repeat
        background-size: 64%
        background-color: $primary-color

input[type=radio]
  opacity: 0
  position: absolute
  left: -9999px

  + label, + .field_with_errors label, + .label-wrapper label
    cursor: pointer

    &:before
      content: ''
      display: block
      float: left
      margin-right: 15px
      width: 17px
      height: 20px
      line-height: 20px
      padding-left: 3px
      background-color: $input-background
      border-radius: 20px
      font-size: 15px
      box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .3)

  &:checked, &:active
    + label, + .field_with_errors label, + .label-wrapper label
      &:before
        background-color: $black
        box-shadow: 0px 0px 0px 5px $primary-color, 0px 0px 0px 5px rgba(0, 0, 0, .2)
        width: 7px
        height: 10px
        margin-right: 20px
        margin-left: 5px

  &:active
    + label, + .field_with_errors label, + .label-wrapper label
      &:before
        background-color: $darkgray


input.search-field
  padding-left: 40px
  background-image: image-url('search.svg')
  background-repeat: no-repeat
  background-size: 1em
  background-position: 15px center
  font-size: 0.9em
  height: 36px
  border: 1px solid $lightgray
  border-radius: 5px

.date-select
  clear: left

  select
    width: auto
    min-width: 70px

.field-for-radio
  margin-left: 33px

  &.is-disabled
    opacity: 0.5
    pointer-events: none

.input-field-up + .unit
  margin-right: 56px

.full
  margin-bottom: 20px

  .bottom button:first-child
    margin-left: 230px

.flags
  label
    font-weight: 400

  .field
    margin: 0

.radio-set
  margin-left: -30px

.file-upload
  @include button
  position: relative

  input
    position: absolute
    top: 0
    bottom: 0
    left: 0
    right: 0
    opacity: 0

.custom-select
  position: relative
  display: inline-block

  select
    position: absolute
    height: 100%
    width: 100%
    opacity: 0
    cursor: pointer


.button-set
  margin-top: 40px
  overflow: auto
  text-align: right

  &.is-disabled
    opacity: 0.2
    pointer-events: none

  .btn + .btn
    margin-left: 20px

  .btn + input[type=submit]
    margin-left: 20px

  .button-set__cancel
    margin-right: 20px
    border-bottom: 1px solid

// Custom file upload field
.file-field
  border: 2px solid lighten($lightgray, 10%)
  border-radius: 5px
  padding: 10px
  display: flex
  align-items: center
  position: relative
  cursor: pointer
  clear: left

  &:hover
    background: $lightgray

  input
    position: absolute
    top: 0
    left: 0
    bottom: 0
    right: 0
    opacity: 0
    width: 100%
    cursor: pointer

.file-field__icon
  background-repeat: no-repeat
  background-size: contain
  background-position: center
  height: 30px
  width: 30px
  margin: 0 20px 0 10px

.file-field__icon--ok
  background-image: image-url('form/file-ok.svg')

.file-field__icon--upload
  background-image: image-url('form/file-upload.svg')

.file-field--pending
  opacity: 0.6

.file-field__progress
  position: absolute
  top: 0
  left: 0
  bottom: 0
  opacity: 0.2
  background: lighten($blue, 10%)
  transition: width 120ms ease-out, opacity 60ms 60ms ease-in
  transform: translate3d(0, 0, 0)

.file-field--complete .file-field__progress
  opacity: 0.4

.file-field--error
  border-color: $red

input[type=file][data-direct-upload-url][disabled]
  display: none


// Custom radio box
.custom-radio-boxes
  display: flex
  margin-left: -5px

.custom-radio-box
  position: relative
  margin: 0 5px
  flex: 1

  &.is-disabled
    opacity: 0.5
    pointer-events: none

  input[type="radio"]
    position: absolute
    height: 100%
    width: 100%
    top: 0
    opacity: 0
    cursor: pointer

  .custom-radio-box__label
    padding: 15px 20px
    border: 2px solid $lightgray
    border-radius: 5px

  input[type=radio]:checked + .custom-radio-box__label
    border-color: $primary-color
    background: $lightgray

  input[type=radio]:active .custom-radio-box__label
    background: lighten($lightgray, 5%)

//
// Form error box
//
.form-error
  @include clearfix
  color: $white
  background-color: $red
  width: 600px
  border-radius: 3px
  padding: 20px
  margin-bottom: $big-margin
  font-weight: 600

  p
    @include weight-bold
    margin: 0 0 10px 0

  ul
    margin: 0
    padding: 0 21px

    li
      font-size: 0.9em

.field_with_errors
  input[type=text], input[type=email], input[type=password], input[type=number], select, textarea
    border-color: $red

  label
    color: $red

  + .input--currency
    border-color: $red